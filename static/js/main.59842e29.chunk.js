(this["webpackJsonpsd-011-extra-activities-redux-grupo2"]=this["webpackJsonpsd-011-extra-activities-redux-grupo2"]||[]).push([[0],{30:function(e,r,t){},31:function(e,r,t){},32:function(e,r,t){},36:function(e,r,t){},37:function(e,r,t){},38:function(e,r,t){},39:function(e,r,t){},40:function(e,r,t){"use strict";t.r(r);var n=t(0),s=t.n(n),c=t(14),a=t.n(c),o=t(9),i=t(12),u=t(10),l=t(21),j=t(22),h=function(e){return Object(u.createStore)(e,Object(l.composeWithDevTools)(Object(u.applyMiddleware)(j.a)))},d=(t(30),t(3)),b=t(13),f=(t(31),t.p+"static/media/logo.3b9b5826.png"),O=function(e,r,t){var n=(null===r||void 0===r?void 0:r.length)?function(e){var t,n=Object.keys(e),s=(t=n,r.filter((function(e){return t.indexOf(e)>-1}))),c={};return s.forEach((function(r){c[r]=e[r]})),c}:null;if(!t)return Object(i.b)(n)(e);return Object(i.b)(n,(function(e){var r={};return t.forEach((function(t){r[t.name]=function(r){return e(t(r))}})),r}))(e)},m=function(e){var r=function(r){return{type:e,payload:r}};return Object.defineProperty(r,"name",{writable:!1,value:e}),r},g=m("receiveUsers"),x=m("requestUsers"),p=m("reportError"),v=(t(32),t(1));var _=function(e){var r=e.children;return Object(n.useEffect)((function(){document.title="HubBusters"}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("header",{className:"main-header",children:Object(v.jsxs)(o.b,{className:"main-header__link",to:"/",children:[Object(v.jsx)("img",{className:"main-header__logo",src:f,alt:"HubBusters! logo"}),Object(v.jsx)("h1",{children:"HubBusters!"})]})}),r,Object(v.jsxs)("footer",{className:"main-footer",children:["Feito por \xa0",Object(v.jsx)("a",{href:"https://github.com/heyset",target:"_blank",rel:"noreferrer",children:'Matheus "Set" Inacio'})]})]})};var w=function(e){var r=e.isLoading,t=e.hasError,n=e.result;return r?Object(v.jsx)("p",{children:"Loading..."}):t?Object(v.jsx)("p",{children:"Oops... looks like something went wrong."}):n};t(36);var N=function(e){var r=e.username,t=e.avatar;return Object(v.jsx)("li",{className:"user-card",children:Object(v.jsxs)(o.b,{to:"/user/".concat(r),children:[Object(v.jsx)("img",{alt:"Avatar for user ".concat(r),src:t}),Object(v.jsx)("h1",{children:r})]})})};var y=O((function(e){var r=e.users,t=e.queryUsersAndUpdate,s=Object(n.useState)(""),c=Object(b.a)(s,2),a=c[0],o=c[1],i=r.searchResult,u=r.isLoading,l=r.hasError;return Object(v.jsx)(_,{children:Object(v.jsxs)("main",{className:"home",children:[Object(v.jsxs)("header",{className:"home__header",children:[Object(v.jsx)("img",{className:"home__splash-logo",src:f,alt:"HubBusters! logo"}),Object(v.jsx)("h1",{children:"HubBusters!"})]}),Object(v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a&&t(a)},className:"search-form",children:[Object(v.jsx)("input",{className:"search-form__input-field",type:"text",placeholder:"Who you gonna crawl?!",value:a,onChange:function(e){var r=e.target;return o(r.value)}}),Object(v.jsx)("button",{className:"search-form__submit-button",type:"submit",children:"HubBusters!"})]}),Object(v.jsx)("section",{className:"home__search-results",children:Object(v.jsx)(w,{hasError:l,isLoading:u,result:Object(v.jsx)("ol",{children:i.map((function(e){var r=e.login,t=e.avatar_url,n=e.id;return Object(v.jsx)(N,{avatar:t,username:r},n)}))})})})]})})}),["users"],[function(e){return function(r){return r(x()),fetch("".concat("https://api.github.com","/search/users?q=").concat(encodeURIComponent(e))).then((function(e){if(e.ok)return e.json();throw new Error("something went wrong..")})).then((function(e){var t=e.items.slice(0,5);r(g(t))})).catch((function(e){return r(p())}))}}]),E=t(20),L=(t(37),t.p+"static/media/users.b0dd5872.svg"),k=(t(38),t.p+"static/media/star.1da9cad4.svg");var S=function(e){var r=e.name,t=e.url,n=e.stars,s=e.language;return Object(v.jsx)("li",{className:"repo-card",children:Object(v.jsxs)("a",{href:t,target:"_blank",rel:"noreferrer",children:[Object(v.jsx)("h1",{children:r}),Object(v.jsx)("p",{children:s}),Object(v.jsxs)("p",{children:[Object(v.jsx)("img",{src:k,alt:"star icon"}),Object(v.jsx)("span",{children:n})]})]})})};var B=function(){var e=Object(n.useState)({isLoading:!0}),r=Object(b.a)(e,2),t=r[0],s=r[1],c=Object(n.useState)({isLoading:!0,list:[]}),a=Object(b.a)(c,2),o=a[0],i=a[1],u=Object(d.f)();Object(n.useEffect)((function(){var e="https://api.github.com",r=u.username;fetch("".concat(e,"/users/").concat(r)).then((function(e){if(e.ok)return e.json();throw new Error("explodiu")})).then((function(e){return s(Object(E.a)(Object(E.a)({},e),{},{isLoading:!1}))})).catch((function(e){return s({error:e,isLoading:!1})})),fetch("".concat(e,"/users/").concat(r,"/repos")).then((function(e){if(e.ok)return e.json();throw new Error("explodiu")})).then((function(e){return e.sort((function(e,r){return r.stargazers_count-e.stargazers_count})).slice(0,4)})).then((function(e){return i({isLoading:!1,list:e})})).catch((function(e){return i({error:e,isLoading:!1})}))}),[u]);var l=t.name,j=t.login,h=t.avatar_url,f=t.bio,O=t.followers,m=t.following;return Object(v.jsx)(_,{children:Object(v.jsxs)("main",{className:"user",children:[Object(v.jsx)("header",{className:"user__header",children:Object(v.jsx)(w,{isLoading:t.isLoading,hasError:t.error,result:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{children:Object(v.jsx)("img",{src:h,alt:"Avatar for user ".concat(j)})}),Object(v.jsxs)("div",{className:"user__header__infos",children:[Object(v.jsx)("h1",{children:Object(v.jsx)("a",{href:"https://github.com/".concat(j),target:"blank",rel:"noreferrer",children:j})}),Object(v.jsx)("h2",{children:l}),Object(v.jsx)("p",{className:"user__header__infos__bio",children:f}),Object(v.jsxs)("section",{className:"user__header__infos__follows",children:[Object(v.jsx)("img",{src:L,alt:"icon representing two people"}),Object(v.jsxs)("p",{children:[Object(v.jsxs)("span",{children:[O," followers"]})," ",Object(v.jsxs)("span",{children:[m," following"]})]})]})]})]})})}),Object(v.jsxs)("section",{className:"user__repos",children:[Object(v.jsx)("h1",{children:"Main repos"}),Object(v.jsx)(w,{isLoading:o.isLoading,hasError:o.error,result:Object(v.jsx)("ol",{children:o.list.map((function(e){var r=e.id,t=e.name,n=e.html_url,s=e.language,c=e.stargazers_count;return Object(v.jsx)(S,{name:t,url:n,language:s,stars:c},r)}))})})]})]})})};t(39);var A=function(){return Object(v.jsxs)(d.c,{children:[Object(v.jsx)(d.a,{exact:!0,path:"/",component:y}),Object(v.jsx)(d.a,{path:"/user/:username",component:B})]})},F=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(r){var t=r.getCLS,n=r.getFID,s=r.getFCP,c=r.getLCP,a=r.getTTFB;t(e),n(e),s(e),c(e),a(e)}))};function U(e){if("object"!==typeof(r=e)||null===r||"function"===typeof e)return e;var r,t;if(!Array.isArray(e)){var n=Object.entries(e);return t=Object.fromEntries(U(n))}t=[];for(var s=0;s<e.length;s++)t.push(U(e[s])),"function"===typeof e[s]&&(console.warn("WARNING: NOT deep cloning a function. Sent a reference instead."),console.warn("You have a method inside your state. Are you sure you want to do this?"));return t}var H=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U;return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,s=arguments.length>1?arguments[1]:void 0,c=s.type,a=s.payload;return r[c]?r[c](t(n),a,n):n}}({searchResult:[],isLoading:!1,hasError:!1},{receiveUsers:function(e,r){return e.searchResult=r,e.isLoading=!1,e.hasError=!1,e},requestUsers:function(e){return e.isLoading=!0,e.hasError=!1,e},reportError:function(e){return e.isLoading=!1,e.hasError=!0,e}}),R=Object(u.combineReducers)({users:H});a.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(o.a,{basename:"hubbusters",children:Object(v.jsx)(i.a,{store:h(R),children:Object(v.jsx)(A,{})})})}),document.getElementById("root")),F()}},[[40,1,2]]]);
//# sourceMappingURL=main.59842e29.chunk.js.map